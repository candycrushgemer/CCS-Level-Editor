<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download Level Editor for Windows</title>
  <link rel="stylesheet" href="ccgemer-home-stylesheet.css">
  <link rel="preconnect" href="https://rsms.me/">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <link rel="shortcut icon" href="logo-1024x1024-full.png" type="image/x-icon">
  <!-- Add GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</head>

<body>
  <top-app-bar>
    <ul>
      <li id="ccgappsLogo" style="font-weight: 800; display: flex; align-items: center; gap: 1px; position: relative;">
        <img src="/LevelEditorWeb/CCGAppsGifLogo.gif" alt="CCGApps" style="width: 20px; height: 20px; border-radius: 50%; transform: scale(1.8); opacity: 0; position: absolute; left: 10px;"> 
        <span class="ccgapps-text" style="margin-left: 5px;">CCGApps</span>
      </li>
    </ul>
    <ul class="top-app-bar-btns">
      <li onclick="window.location.href = './'">Home</li>
      <li onclick="window.location.href = 'pricing.html'">Pricing</li>
    </ul>
  </top-app-bar>
  <main id="home">
    <div class="hero-section">
      <div class="background-behind" style="background: url(intro-assets/ty-dl-bg.png); background-size: cover; background-position: 100% 100%; background-repeat: no-repeat;"></div>
      <div class="hero-content" id="heroContent" style="background: #ffffffcb; backdrop-filter: blur(20px); border-radius: 40px; padding: 20px;">
        <h1 class="normal-title hero-title">
          <span class="title-scroll-gradient red">Thank you</span> for downloading the Level Editor!
        </h1>
        <p class="hero-subtitle">Just a few steps left, you are able to unleash your creativity and make your first level for yourself right in your Windows PC. Click this button to get to the download link through the fastest download speed - Google Drive.</p>
        <div class="hero-btn-wrapper">
          <button-ripple-behind></button-ripple-behind>
          <button-ripple-behind></button-ripple-behind>
          <button-ripple-behind></button-ripple-behind>
          <button id="heroBtn" class="hero-btn" onclick="window.location.href = 'https://drive.google.com/uc?export=download&id=1YijY_0IeCHKtUD0D4NXAJuzy3DmsSGTO'">Download the editor!</button>
            </div>
        </div>
    </div>
    <br>
    <br>
    <h1 class="normal-title" style="font-size: 70px; text-align: center;">Steps to <span class="title-scroll-gradient green">install</span> <span class="title-scroll-gradient blue">Level Editor</span> on Windows</h1>
    <br>
    <div class="dl-steps-container">
        <div class="step-card">
            <sf-icon style="font-size: 30px; color: #0051ff;"></sf-icon>
            <h1>Download the editor</h1>
            <p>Click the Download button to download the editor.</p>
            <img src="intro-assets/dlstep1.png" alt="">
        </div>
        <div class="step-card">
            <sf-icon style="font-size: 30px; color: #0051ff;">ũ</sf-icon>
            <h1>Open the editor</h1>
            <p>Open and allow the setup file to start the installation</p>
            <img src="intro-assets/dlstep2.png" alt="">
        </div>
        <div class="step-card">
            <sf-icon style="font-size: 30px; color: #0051ff;">ƥ</sf-icon>
            <h1>Install the editor</h1>
            <p>Follow the steps on the setup file to install the editor.</p>
            <img src="intro-assets/dlstep3.png" alt="">
        </div>
        
    </div>
  </main>
  <footer class="ccgemer-footer">
    <footer-column>
      <p style="font-weight: 800;">CCGApps</p>
      <p>Follow us</p>
      <footer-follow-bar>
        <footer-follow-button class="youtube-btn" onclick="window.open('https://youtube.com/@candycrushgemer')"><img src="youtube.svg" alt=""
            draggable="false"></footer-follow-button>
        <footer-follow-button class="facebook-btn" onclick="window.open('https://www.facebook.com/candycrushgemer/')"><img src="facebook.svg" alt=""
            draggable="false"></footer-follow-button>
      </footer-follow-bar>
      <p>Contact us</p>
      <a href="mailto:contact.ccgccs@gmail.com" class="email-link"><sf-icon
          style="font-size: x-large;">掠</sf-icon>contact.ccgccs@gmail.com</a>
    </footer-column>
    <footer-column>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#tools">Tools</a></li>
        <li><a href="#support">Support</a></li>
      </ul>
    </footer-column>
    <footer-column>
      <ul>
        <li><a href="level-editor/documentation.html#legal">Legal</a></li>
        <li><a href="level-editor/documentation.html#legal">Terms of Service</a></li>
        <li><a href="level-editor/documentation.html#legal">Terms of Use</a></li>
            </ul>
    </footer-column>
    </footer>


    <script>
    // Initialize GSAP ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);

    // CCGApps logo hover animation
    const ccgappsLogo = document.getElementById('ccgappsLogo');
    const ccgappsText = ccgappsLogo.querySelector('.ccgapps-text');
    const ccgappsImg = ccgappsLogo.querySelector('img');

    // Set initial state
    gsap.set(ccgappsText, { x: 0 });
    gsap.set(ccgappsImg, { opacity: 0, x: -10 });

    // Create hover animation timeline
    const logoHoverTl = gsap.timeline({ paused: true });
    
    logoHoverTl
      .to(ccgappsText, {
        x: 15,
        duration: 0.3,
        ease: "power2.out"
      })
      .to(ccgappsImg, {
        opacity: 1,
        x: 0,
        duration: 0.3,
        ease: "power2.out"
      }, "-=0.2");

    // Add hover listeners
    ccgappsLogo.addEventListener('mouseenter', () => {
      logoHoverTl.play();
      // Reset gif by reloading it
      ccgappsImg.src = ccgappsImg.src;
    });

    ccgappsLogo.addEventListener('mouseleave', () => {
      logoHoverTl.reverse();
    });

    // Initial animations when page loads
    gsap.from("top-app-bar", {
        y: -100,
        opacity: 0,
        duration: 1,
        ease: "power3.out"
    });

    gsap.from(".normal-title", {
        y: 50,
        opacity: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power3.out"
    });

    gsap.from(".hero-subtitle", {
        y: 30,
        opacity: 0,
        duration: 1,
        delay: 0.5,
        ease: "power3.out"
    });

    // Scroll animations
    gsap.from("main-title-left", {
        scrollTrigger: {
            trigger: "main-title-left",
            start: "top 80%",
            toggleActions: "play none none reverse"
        },
        x: -100,
        opacity: 0,
        duration: 1,
        ease: "power3.out"
    });

    gsap.from("main-title-right", {
        scrollTrigger: {
            trigger: "main-title-right",
            start: "top 80%",
            toggleActions: "play none none reverse"
        },
        x: 100,
        opacity: 0,
        duration: 1,
        ease: "power3.out"
    });

    // Animate tool image on hover
    const toolImage = document.querySelector(".tool-image");
    toolImage.addEventListener("mouseenter", () => {
        gsap.to(toolImage, {
            scale: 1.05,
            duration: 0.3,
            ease: "power2.out"
        });
    });
    toolImage.addEventListener("mouseleave", () => {
        gsap.to(toolImage, {
            scale: 1,
            duration: 0.3,
            ease: "power2.out"
                });
            });

    // Animate buttons
    gsap.from(".open-editor-btn, .see-intro", {
        scrollTrigger: {
            trigger: "button-container",
            start: "top 80%",
            toggleActions: "play none none reverse"
        },
        y: 30,
        opacity: 0,
        duration: 0.8,
        stagger: 0.2,
        ease: "power3.out"
    });

    // Animate footer elements
    gsap.from(".ccgemer-footer", {
        scrollTrigger: {
            trigger: ".ccgemer-footer",
            start: "top 90%",
            toggleActions: "play none none reverse"
        },
        y: 50,
        opacity: 0,
        duration: 1,
        ease: "power3.out"
    });

    // Animate channel card and playlist
    gsap.from(".channel-card, .playlist", {
        scrollTrigger: {
            trigger: ".channel-card",
            start: "top 80%",
            toggleActions: "play none none reverse"
        },
        y: 30,
        opacity: 0,
        duration: 1,
        stagger: 0.3,
        ease: "power3.out"
    });

    const API_KEY = 'AIzaSyD0hOfL1MC7VChWG03NCm-zXZMsZmkgYMg';
    const CHANNEL_ID = 'UCT02PeLywRKsBBG3lYQ5cxg';
    const PLAYLIST_ID = 'PLrxi_0VCJYCe9M-h3PW0ekLCKK1u2qzIU';

    fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${CHANNEL_ID}&key=${API_KEY}`)
      .then(response => response.json())
      .then(data => {
        const channel = data.items[0];
        const avatar = channel.snippet.thumbnails.default.url;
        const title = channel.snippet.title;
        const username = channel.snippet.customUrl ? `${channel.snippet.customUrl}` : '';
        const subs = channel.statistics.subscriberCount;

        const html = `
          <channel-info-content class="channel-info" style="display: flex; gap: 15px;">
            <img src="${avatar}" alt="Avatar" draggable="false">
            <channel-info-text>
              <channel-name class="channel-name"><h1>${title}</h1></channel-name>
              <channel-username class="channel-username">${username}</channel-username><br>
              <channel-subscribers-count class="channel-subs">${Number(subs).toLocaleString()} subscribers</channel-subscribers-count>
            </channel-info-text>
          </channel-info-content>
          <sf-icon style="display: none;"></sf-icon>
        `;

        document.getElementById('channelCard').innerHTML = html;
        
        // Animate channel info after loading
        gsap.from(".channel-info", {
            x: -50,
            opacity: 0,
            duration: 1,
            ease: "power3.out"
        });
      })
      .catch(err => {
        console.error('Failed to load channel data', err);
        document.getElementById('channelCard').textContent = 'Failed to load channel info';
      });

    // Load playlist videos
    fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=100&playlistId=${PLAYLIST_ID}&key=${API_KEY}`)
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('playlistContainer');
        container.innerHTML = '';

        data.items.forEach((item, index) => {
          const videoId = item.snippet.resourceId.videoId;
          const title = item.snippet.title;
          const channelTitle = item.snippet.videoOwnerChannelTitle;
          const thumbnail = item.snippet.thumbnails.medium.url;

          const videoCard = document.createElement('youtube-video');
          videoCard.onclick = () => window.open(`https://www.youtube.com/watch?v=${videoId}`, '_blank');
          videoCard.className = 'video-card';
          videoCard.target = '_blank';
          videoCard.innerHTML = `
              <img src="${thumbnail}" alt="${title}">
              <youtube-video-preview-info class="video-info">
                <video-title class="video-title"><h2>${title}</h2></video-title><br>
                <video-channel class="video-channel">${channelTitle}</video-channel>
              </youtube-video-preview-info>  
            `;

          container.appendChild(videoCard);

          // Animate each video card with a stagger effect
          gsap.from(videoCard, {
              scrollTrigger: {
                  trigger: videoCard,
                  start: "top 90%",
                  toggleActions: "play none none reverse"
              },
              y: 30,
              opacity: 0,
              duration: 0.5,
              delay: index * 0.1,
              ease: "power3.out"
          });
        });
      })
      .catch(err => {
        console.error('Error loading playlist', err);
        document.getElementById('playlistContainer').textContent = 'Failed to load playlist.';
      });

    // --- HERO ANIMATION SEQUENCE & INTRO2 SECTION ANIMATION ---
    window.addEventListener('DOMContentLoaded', () => {
      // --- HERO ANIMATION SEQUENCE ---
      // Set up initial positions for candies (off-screen, opacity 0)
      gsap.set("#candy-green", {y: -400, opacity: 0, scale: 0.7});
      gsap.set("#candy-bomb", {y: -400, opacity: 0, scale: 0.7});
      gsap.set("#candy-orange", {x: -400, opacity: 0, scale: 0.7});
      gsap.set("#candy-editor", {x: 400, opacity: 0, scale: 0.7});

      const tl = gsap.timeline();
      // Blur and fade out hero content
      tl.to("#heroContent", { 
        className: "+=blur-out", 
        duration: 0.4, 
        ease: "power1.inOut"
      }, 0);
      // Candies jump in with bounce and fade in
      tl.to("#candy-green", {y: 0, opacity: 1, scale: 1, duration: 0.7, ease: "bounce.out"}, 0.1)
        .to("#candy-bomb", {y: 0, opacity: 1, scale: 1, duration: 0.7, ease: "bounce.out"}, 0.25)
        .to("#candy-orange", {x: 0, opacity: 1, scale: 1, duration: 0.7, ease: "bounce.out"}, 0.4)
        .to("#candy-editor", {x: 0, opacity: 1, scale: 1, duration: 0.7, ease: "bounce.out"}, 0.55);
      // Fade hero content back in, remove blur
      tl.to("#heroContent", {
        className: "-=blur-out",
        opacity: 1,
        duration: 0.5,
        ease: "power1.inOut"
      }, ">-0.1");

      // --- INTRO2 SECTION ANIMATION ---
      console.log('Initializing intro2 animation...');
      // First hide all text elements
      gsap.set(['.intro2-title', '.intro2-desc', '.intro2-btns'], {
        opacity: 0,
        y: 20
      });
      // Create a timeline for the sequence
      const intro2Timeline = gsap.timeline({
        scrollTrigger: {
          trigger: '.intro2-section',
          start: 'top 80%',
        }
      });
      // Animate the image growing with glow
      intro2Timeline.fromTo('.intro2-img',
        { scale: 0.8, opacity: 0 },
        { 
          scale: 1,
          opacity: 1,
          duration: 1,
          ease: 'power2.out'
        }
      )
      .fromTo('.intro2-img-glow',
        { opacity: 0, scaleX: 0.2 },
        { 
          opacity: 0.85,
          scaleX: 1,
          duration: 1.2,
          ease: 'power2.out'
        },
        '-=0.8' // Start slightly before the image animation ends
      )
      // Then fade in text elements with stagger
      .to('.intro2-title', {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: 'power3.out'
      })
      .to('.intro2-desc', {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: 'power3.out'
      }, '-=0.4')
      .to('.intro2-btns', {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: 'power3.out'
      }, '-=0.4');
    });

    // Animate .title-scroll-gradient background on scroll
    gsap.to('.title-scroll-gradient', {
      scrollTrigger: {
        trigger: '.title-scroll-gradient',
        start: 'top 80%',
        toggleActions: 'play none none reverse'
      },
      '--gradient-stops': 'rgba(0, 0, 0, 0.1) -100%, rgb(253, 120, 24) -56%, rgb(255, 90, 31) -42%, rgb(0, 0, 0) 0%',
      duration: 1.2,
      ease: 'power2.out'
    });
    </script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // For each .title-scroll-gradient element
  document.querySelectorAll('.title-scroll-gradient').forEach(function(el) {
    // Define color stops for each variant
    let stopsStart, stopsEnd, color1, color2;
    if (el.classList.contains('blue')) {
      // Blue gradient
      color1 = 'rgb(47, 24, 253)';
      color2 = 'rgb(47, 24, 253)';
      stopsStart = [100, 144, 158, 200];
      stopsEnd   = [-100, -56, -42, 0];
    } else if (el.classList.contains('green')) {
      // Green gradient
      color1 = 'rgb(24, 253, 47)';
      color2 = 'rgb(24, 253, 47)';
      stopsStart = [100, 144, 158, 200];
      stopsEnd   = [-100, -56, -42, 0];
    } else if (el.classList.contains('orange')) {
      // Default orange gradient
      color1 = 'rgb(253, 120, 24)';
      color2 = 'rgb(255, 90, 31)';
      stopsStart = [100, 144, 158, 200];
      stopsEnd   = [-100, -56, -42, 0];
    } else if (el.classList.contains('red')) {
      // Red gradient
      color1 = 'rgb(253, 24, 24)';
      color2 = 'rgb(253, 24, 24)';
      stopsStart = [100, 144, 158, 200];
      stopsEnd   = [-100, -56, -42, 0];
    }

    function lerp(a, b, t) {
      return a + (b - a) * t;
    }

    function onScroll() {
      const rect = el.getBoundingClientRect();
      const windowHeight = window.innerHeight || document.documentElement.clientHeight;
      const start = windowHeight * 0.9;
      const end = windowHeight * 0.3;

      let progress = (start - rect.top) / (start - end);
      progress = Math.max(0, Math.min(1, progress));

      const stops = stopsStart.map((startVal, i) =>
        lerp(startVal, stopsEnd[i], progress)
      );

      const stopsStr = `rgba(0, 0, 0, 0.1) ${stops[0]}%, ${color1} ${stops[1]}%, ${color2} ${stops[2]}%, rgb(0, 0, 0) ${stops[3]}%`;
      el.style.setProperty('--gradient-stops', stopsStr);
    }

    window.addEventListener('scroll', onScroll);
    window.addEventListener('resize', onScroll);
    onScroll();
  });
});
</script>

</body>

</html>